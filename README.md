# J-Scenario

![Kotlin](https://img.shields.io/badge/Kotlin-7F52FF?style=for-the-badge&logo=kotlin&logoColor=white)
![Jetpack Compose](https://img.shields.io/badge/Jetpack%20Compose-4285F4?style=for-the-badge&logo=jetpackcompose&logoColor=white)
![Python](https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white)
![FastAPI](https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white)
![Google Cloud](https://img.shields.io/badge/Google%20Cloud-4285F4?style=for-the-badge&logo=googlecloud&logoColor=white)
![Azure](https://img.shields.io/badge/Azure%20Speech-0078D4?style=for-the-badge&logo=microsoftazure&logoColor=white)

> **ì‚´ì•„ë‚¨ì•„ë¼! ì‹¤ì „ ì¼ë³¸ì–´ ì„œë°”ì´ë²Œ** â€” AI ê¸°ë°˜ ë¡¤í”Œë ˆì‰ìœ¼ë¡œ ì‹¤ì „ ì¼ë³¸ì–´ íšŒí™” ëŠ¥ë ¥ì„ ê·¹ëŒ€í™”í•˜ëŠ” í•™ìŠµ ì•±

---

## ğŸ¤ Demo

[ì—¬ê¸°ì— ë°ëª¨ ì˜ìƒ ì²¨ë¶€]

---

## ğŸ“– Description

**J-Scenario**ëŠ” ì¼ë³¸ì–´ ì¤‘ê¸‰ í•™ìŠµì(JLPT N3~N2)ë¥¼ ìœ„í•œ **ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ë¡¤í”Œë ˆì‰ íšŒí™” í•™ìŠµ ì•±**ì…ë‹ˆë‹¤.

ê¸°ì¡´ì˜ ì¼ë³¸ì–´ í•™ìŠµ ì•±ë“¤ì´ ì •í•´ì§„ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°˜ë³µí•˜ëŠ” ë°©ì‹ì— ë¨¸ë¬¼ëŸ¬ ìˆëŠ” ë°˜ë©´, J-ScenarioëŠ” **ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•œ ì‹¤ì œ ìƒí™©**ì„ ì œì‹œí•˜ê³  ì‚¬ìš©ìê°€ **ìì‹ ì˜ ëª©ì†Œë¦¬ë¡œ ì§ì ‘ ëŒ€ì‘**í•˜ë„ë¡ í•©ë‹ˆë‹¤. AIê°€ ì‚¬ìš©ìì˜ ë°œí™”ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ ë°œìŒ, ë¬¸ë²•, ìƒí™© ì ì ˆì„±(TPO)ì— ëŒ€í•œ ìƒì„¸í•œ í”¼ë“œë°±ì„ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ¯ í”„ë¡œì íŠ¸ ë°°ê²½

- ë§ì€ ì¼ë³¸ì–´ í•™ìŠµìë“¤ì´ ë¬¸ë²•ê³¼ ì–´íœ˜ ì§€ì‹ì€ ê°–ì¶”ì—ˆìœ¼ë‚˜, **ì‹¤ì œ ëŒ€í™” ìƒí™©ì—ì„œ ìˆœë°œë ¥ ìˆê²Œ ëŒ€ì‘í•˜ëŠ” ë° ì–´ë ¤ì›€**ì„ ê²ªìŠµë‹ˆë‹¤.
- ê¸°ì¡´ í•™ìŠµ ì•±ë“¤ì€ **ì •í•´ì§„ ë¬¸ì¥ì„ ë”°ë¼ ì½ëŠ” ë°©ì‹**ì— ê·¸ì³, ì‹¤ì „ íšŒí™” ëŠ¥ë ¥ í–¥ìƒì— í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.
- ì¼ë³¸ ì—¬í–‰, ìœ í•™, ì·¨ì—…ì„ ì•ë‘” í•™ìŠµìë“¤ì—ê²Œ **ì‹¤ì „ê³¼ ê°™ì€ ì—°ìŠµ í™˜ê²½**ì´ í•„ìš”í•©ë‹ˆë‹¤.

### âœ¨ Why This Project? (Key Differentiators)

ê¸°ì¡´ì˜ ë°œìŒ í‰ê°€ ì•±ë“¤ì€ **ë¯¸ë¦¬ ì •í•´ì§„ ë¬¸ì¥**ë§Œ í‰ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ìëŠ” ì£¼ì–´ì§„ ë¬¸ì¥ì„ ê·¸ëŒ€ë¡œ ì½ì–´ì•¼ë§Œ ë°œìŒ ì ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆì£ .

**J-ScenarioëŠ” ë‹¤ë¦…ë‹ˆë‹¤.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ¯ Advanced Evaluation Pipeline              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸ¤ User Speech                                                â”‚
â”‚        â†“                                                        â”‚
â”‚   ğŸ“ Google STT (1ì°¨ í…ìŠ¤íŠ¸ ë³€í™˜)                                â”‚
â”‚        â†“                                                        â”‚
â”‚   ğŸ”§ Gemini LLM (ë¬¸ë§¥ ê¸°ë°˜ í…ìŠ¤íŠ¸ ë³´ì •) â† í•µì‹¬!                   â”‚
â”‚        â†“                                                        â”‚
â”‚   ğŸ¯ Azure Speech (ë³´ì •ëœ í…ìŠ¤íŠ¸ ê¸°ì¤€ ë°œìŒ í‰ê°€)                  â”‚
â”‚        â†“                                                        â”‚
â”‚   ğŸ“š Gemini LLM (ë¬¸ë²•/TPO í”¼ë“œë°± + AI ì‘ë‹µ ìƒì„±)                 â”‚
â”‚        â†“                                                        â”‚
â”‚   ğŸ”Š Google TTS (AI ìºë¦­í„° ìŒì„± ì‘ë‹µ)                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ì´ íŒŒì´í”„ë¼ì¸ì˜ í•µì‹¬ì€ **2ë‹¨ê³„ Gemini ë¬¸ë§¥ ë³´ì •**ì…ë‹ˆë‹¤:

1. **STT ì˜¤ë¥˜ êµì •**: ìŒì„± ì¸ì‹ ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ì˜¤íƒˆìë¥¼ ì‹œë‚˜ë¦¬ì˜¤ ë¬¸ë§¥ì— ë§ê²Œ ë³´ì •
2. **Reference Text ìƒì„±**: Azure ë°œìŒ í‰ê°€ë¥¼ ìœ„í•œ ì •í™•í•œ ê¸°ì¤€ í…ìŠ¤íŠ¸ ì œê³µ

ì´ë¥¼ í†µí•´ ì‚¬ìš©ìëŠ” **ì •í•´ì§„ ë¬¸ì¥ì´ ì•„ë‹Œ, ì¦‰ì„ì—ì„œ ë§Œë“  ììœ ë¡œìš´ ë¬¸ì¥**ìœ¼ë¡œë„ ì •í™•í•œ ë°œìŒ í‰ê°€ë¥¼ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë§ˆì¹˜ ì‹¤ì œ ì¼ë³¸ì¸ê³¼ ëŒ€í™”í•˜ë“¯, ìƒí™©ì— ë§ëŠ” ìì‹ ë§Œì˜ í‘œí˜„ì„ êµ¬ì‚¬í•˜ê³  ê·¸ì— ëŒ€í•œ í”¼ë“œë°±ì„ ë°›ëŠ” ê²ƒì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

---

## â­ Main Features

### ğŸ­ ì‹œë‚˜ë¦¬ì˜¤ ê¸°ë°˜ ë¡¤í”Œë ˆì‰
- **ë‹¤ì–‘í•œ ìƒí™©**: ê¸´ê¸‰ìƒí™©, ë¹„ì¦ˆë‹ˆìŠ¤, ì—¬í–‰ ë“± 10ê°œ ì´ìƒì˜ ì‹œë‚˜ë¦¬ì˜¤
- **ë©€í‹° ì±•í„°**: í•˜ë‚˜ì˜ ìŠ¤í† ë¦¬ê°€ ì—¬ëŸ¬ ì±•í„°ë¡œ ì—°ê²°ë˜ì–´ ëª°ì…ê° ìˆëŠ” í•™ìŠµ
- **ì‹¤ê° ë‚˜ëŠ” ì—°ì¶œ**: AI ìƒì„± ì´ë¯¸ì§€ì™€ ìºë¦­í„° ìŒì„±ìœ¼ë¡œ ë†’ì€ ëª°ì…ê° ì œê³µ

### ğŸ¤ ìŒì„± ì¸ì‹ ë° AI í‰ê°€
- **ì‹¤ì‹œê°„ ìŒì„± ë…¹ìŒ**: ë§ˆì´í¬ ë²„íŠ¼ìœ¼ë¡œ ê°„í¸í•˜ê²Œ ì‘ë‹µ ë…¹ìŒ
- **ë‹¤ê°ì  í‰ê°€**: ë°œìŒ ì •í™•ë„, ë¬¸ë²•, ìƒí™© ì ì ˆì„±(TPO) 3ê°€ì§€ ê¸°ì¤€
- **ìƒì„¸ í”¼ë“œë°±**: ì ìˆ˜ì™€ í•¨ê»˜ êµ¬ì²´ì ì¸ ê°œì„  í¬ì¸íŠ¸ ë° ëª¨ë²” ë‹µì•ˆ ì œê³µ

### ğŸ”Š AI ìºë¦­í„° ì‘ë‹µ
- **ë¬¸ë§¥ ê¸°ë°˜ ì‘ë‹µ**: ì‚¬ìš©ìì˜ ë°œí™” ë‚´ìš©ê³¼ ì ìˆ˜ì— ë”°ë¥¸ ìì—°ìŠ¤ëŸ¬ìš´ AI ì‘ë‹µ
- **ìŒì„± í•©ì„±**: ì¼ë³¸ì–´ ë„¤ì´í‹°ë¸Œ ìŒì„±ìœ¼ë¡œ AI ìºë¦­í„° ëŒ€ì‚¬ ì¬ìƒ

### ğŸ® ê²Œì„í™” ìš”ì†Œ
- **ê²½í—˜ì¹˜ ì‹œìŠ¤í…œ**: ì‹œë‚˜ë¦¬ì˜¤ ì™„ë£Œ ì‹œ ì ìˆ˜ì— ë”°ë¥¸ EXP íšë“
- **ì¼ì¼ ì§„í–‰ë„**: í•˜ë£¨ ëª©í‘œ ë‹¬ì„±ì„ ìœ„í•œ í”„ë¡œê·¸ë ˆìŠ¤ ë°”
- **ì‹œê°ì  í”¼ë“œë°±**: ì ìˆ˜ ì• ë‹ˆë©”ì´ì…˜, 80ì  ì´ìƒ ì‹œ ì¶•í•˜ ì´í™íŠ¸

---

## ğŸ”¨ System Architecture

[ì—¬ê¸°ì— ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì´ë¯¸ì§€ ì²¨ë¶€]

---

## ğŸ“Š Logic Flow (Sequence Diagram)

[ì—¬ê¸°ì— ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì²¨ë¶€]

---

## ğŸ”Œ API Endpoints

[ì—¬ê¸°ì— API ëª…ì„¸ì„œ ì²¨ë¶€]

---

## ğŸ”§ Stack

### Language
| Category | Technology |
|----------|------------|
| Android | Kotlin |
| Backend | Python 3.11+ |

### Framework & Library
| Category | Technology |
|----------|------------|
| Android UI | Jetpack Compose |
| Android Architecture | MVVM, Coroutines, Flow |
| Android Networking | Retrofit2, Moshi |
| Android Media | MediaRecorder, ExoPlayer |
| Animation | Lottie |
| Backend | FastAPI |

### AI/ML Services
| Category | Technology |
|----------|------------|
| Speech-to-Text | Google Cloud Speech-to-Text |
| Pronunciation Assessment | Azure Cognitive Services Speech |
| LLM (Text Correction & Evaluation) | Google Gemini API |
| Text-to-Speech | Google Cloud TTS |

### Database & Storage
| Category | Technology |
|----------|------------|
| Backend DB | SQLite (Development) |
| File Storage | Local File System |

### Infrastructure
| Category | Technology |
|----------|------------|
| Backend Server | Uvicorn (ASGI) |
| API Documentation | Swagger UI, ReDoc |

---

## ğŸ“‚ Project Structure

```
JScenario/
â”œâ”€â”€ app/                                    # Android Application
â”‚   â””â”€â”€ src/main/
â”‚       â”œâ”€â”€ java/com/example/j_scenario/
â”‚       â”‚   â”œâ”€â”€ data/
â”‚       â”‚   â”‚   â”œâ”€â”€ api/                    # Retrofit API Service
â”‚       â”‚   â”‚   â”œâ”€â”€ model/                  # Data Models
â”‚       â”‚   â”‚   â””â”€â”€ repository/             # Data Repositories
â”‚       â”‚   â”œâ”€â”€ ui/
â”‚       â”‚   â”‚   â”œâ”€â”€ screens/                # Compose Screens
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ScenarioScreen.kt
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ FeedbackScreen.kt
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ LoadingScreen.kt
â”‚       â”‚   â”‚   â”œâ”€â”€ viewmodel/              # ViewModels
â”‚       â”‚   â”‚   â”œâ”€â”€ components/             # Reusable UI Components
â”‚       â”‚   â”‚   â””â”€â”€ theme/                  # App Theme
â”‚       â”‚   â”œâ”€â”€ navigation/                 # Navigation Graph
â”‚       â”‚   â”œâ”€â”€ utils/                      # Utility Classes
â”‚       â”‚   â””â”€â”€ MainActivity.kt
â”‚       â””â”€â”€ res/                            # Resources
â”‚
â”œâ”€â”€ backend/                                # Python Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py                         # FastAPI Entry Point
â”‚   â”‚   â”œâ”€â”€ config.py                       # Configuration
â”‚   â”‚   â”œâ”€â”€ models/                         # Pydantic Models
â”‚   â”‚   â”œâ”€â”€ routes/                         # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ scenarios.py
â”‚   â”‚   â”‚   â””â”€â”€ interactions.py
â”‚   â”‚   â””â”€â”€ services/                       # Business Logic
â”‚   â”‚       â”œâ”€â”€ interaction_service.py      # Main Pipeline
â”‚   â”‚       â”œâ”€â”€ stt_service.py              # Google STT
â”‚   â”‚       â”œâ”€â”€ text_correction_service.py  # Gemini Correction
â”‚   â”‚       â”œâ”€â”€ azure_pronunciation_service.py
â”‚   â”‚       â”œâ”€â”€ evaluation_service.py       # Gemini Evaluation
â”‚   â”‚       â””â”€â”€ tts_service.py              # Google TTS
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ scenarios.json                  # Scenario Data
â”‚   â”œâ”€â”€ uploads/                            # Audio & Image Files
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â””â”€â”€ README.md
â”‚
â””â”€â”€ cursor_rules/                           # Project Documentation
    â”œâ”€â”€ PRD.md
    â”œâ”€â”€ plan.md
    â””â”€â”€ Todo.md
```

---

## ğŸ’» Getting Started

### Prerequisites

- **Android Studio** Arctic Fox ì´ìƒ
- **Python** 3.11+
- **Google Cloud** ì„œë¹„ìŠ¤ ê³„ì • (STT, TTS)
- **Azure** Speech ì„œë¹„ìŠ¤ í‚¤
- **Google Gemini** API í‚¤

### Backend Installation

```bash
# 1. ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# 2. ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python -m venv venv
source venv/bin/activate  # macOS/Linux
# venv\Scripts\activate   # Windows

# 3. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp env.example.txt .env
# .env íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ API í‚¤ ì…ë ¥:
# - GEMINI_API_KEY
# - GOOGLE_APPLICATION_CREDENTIALS
# - AZURE_SPEECH_KEY
# - AZURE_SPEECH_REGION

# 5. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### Android Installation

```bash
# 1. Android Studioì—ì„œ í”„ë¡œì íŠ¸ ì—´ê¸°
# File > Open > JScenario í´ë” ì„ íƒ

# 2. local.properties ì„¤ì • í™•ì¸
# sdk.dir=/path/to/your/Android/sdk

# 3. NetworkModule.ktì—ì„œ BASE_URL ì„¤ì •
# private const val BASE_URL = "http://YOUR_SERVER_IP:8000/"

# 4. Gradle Sync ì‹¤í–‰
# File > Sync Project with Gradle Files

# 5. ì•± ë¹Œë“œ ë° ì‹¤í–‰
# Run > Run 'app' ë˜ëŠ” Shift + F10
```

### API Documentation

ì„œë²„ ì‹¤í–‰ í›„ ì•„ë˜ URLì—ì„œ API ë¬¸ì„œ í™•ì¸:
- **Swagger UI**: http://localhost:8000/docs
- **ReDoc**: http://localhost:8000/redoc

---

## ğŸ“„ License

This project is licensed under the MIT License.

